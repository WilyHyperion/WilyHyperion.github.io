<!DOCTYPE html>
<head>
  <title>WilyHyperion</title>
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Righteous"
  />
  <style>
    :root {
    }
    html{
        overflow-x:hidden;
    }
    body {
        overflow-x:hidden;
      background-color: #1e2f23;
    }
    .page {
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      z-index: -2;
      overflow: auto;
    }
    .title h2 {
      z-index: 3;
      font-family: "Righteous", sans-serif;
      font-size: 50px;
    }
    .title {
      overflow: hidden;
      position: relative;
    overflow-x:hidden;
      width: 100%;
      background-color: #008CBA;
      text-align: center;
      height: 90%;
      display: flex;
      justify-content: center;
      align-content: center;
      z-index: -2;
      flex-direction: column;
    }
    .EntryOne {
      height: 110%;
      padding-bottom: 20px;
      display: flex;
      justify-content: center;
      align-content: center;
    }
    .leftEntryOne {
      z-index: 2;
      width: 80%;
      height: 90%;
      display: flex;
      justify-content: center;
      align-content: center;
      flex-direction: column;
      background-color: #34623f;
    }
    .rightEntryOne {
      z-index: 2;
      width: 50%;
      height: 90%;
      background-color: #34623f;
    }
    .leftEntryOne h1 {
      padding: 20px;
      text-align: left;
      font-size: 50px;
    }
    .leftEntryOne p {
      padding: 5px;
      line-height: 2;
      font-size: 20px;
    }
    .leftEntryTwo {
      width: 50%;
      height: 400px;
      background-color: #ff0000;
    }
    .rightEntryTwo {
      width: 50%;
      height: 400px;
      background-color: gray;
    }
    .EntryTwo {
      display: flex;
      justify-content: center;
      align-content: center;
    }
    @keyframes fadeIn {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }
    .letter {
      display: inline-block;
      color: black;
      animation: fadeIn 3s;
    }
    #background{
      -webkit-filter: blur(5px);
      -moz-filter: blur(5px);
      -o-filter: blur(5px);
      -ms-filter: blur(5px);
      filter: blur(5px);
      overflow-x:hidden;
      width: 70%;
      opacity: 90%;
      border-radius: 50%;
      height: 50%;
      z-index: 1;
      position: absolute;
      background: radial-gradient( closest-side, #00ff08, #008CBA);
    }
    .box{
      width: 80%;
      height: 90%;
      border: 10px black solid;
      background-color: #b39c4d;
      z-index: 2;
      position: absolute;
    }
    .ball{
      width: 10%;
      height: 10%;
      border-radius: 50%;
      background-color: green;
      z-index: 3;
      left: 0px;
      right: 0px;
      position: absolute;
    }
    .toggleBall{
      position: absolute;
      width: 10%;
      height: 3%;
    }
  </style>
</head>
<body>
  <!--https://coolors.co/b39c4d-768948-607744-34623f-1e2f23-->
  <div class="page">
    <div class="title" id = "title">
      <div id="background"></div>
      <h2>
        <div class="letter">W</div>
        <div class="letter">i</div>
        <div class="letter">l</div>
        <div class="letter">y</div>
        <div class="letter">H</div>
        <div class="letter">y</div>
        <div class="letter">p</div>
        <div class="letter">e</div>
        <div class="letter">r</div>
        <div class="letter">i</div>
        <div class="letter">o</div>
        <div class="letter">n</div>
      </h2>
    </div>
    <div class="EntryOne">
      <button onclick="toggleBall()">Click</button>
        <div class = "box">
          <div class = "ball" id = "ball">

          </div>
        </div>
      </div>
    <div class="EntryTwo">
      <div class="leftEntryTwo"></div>
      <div class="rightEntryTwo"></div>
    </div>
  </div>
  <script>
    let ballMove = false;
    function toggleBall(){
      let ball = document.querySelector(".ball");
      ballMove = !ballMove;
      if(!ballMove){
        ball.style.left = 0;
        ball.style.top = 0;
    }
    
  }
    var ballSpeed = 1;
    var ballVector = [Math.random() * 2 - 1, Math.random() * 2 - 1];
    function norm(vector){
      let length = Math.sqrt(vector[0] * vector[0] + vector[1] * vector[1]);
      vector[0] /= length;
      vector[1] /= length;
      return vector;
    }
    function moveBall(){
      let box = document.querySelector(".box").getBoundingClientRect();
      let i  = document.getElementById("ball");
        let rect = i.getBoundingClientRect();
        //alert("left " + i.style.left);
        i.style.left = (rect.left +  ballVector[0] * ballSpeed ) + "px";//(parseFloat(i.style.left, 10) +  ballVector[0] * ballSpeed )) + "px";
        i.style.top = (rect.top + ballVector[1] * ballSpeed) + "px";
  //  }
    }
    let letters = document.querySelectorAll(".letter");
    for (let i = 0; i < letters.length; i++) {
      letters[i].style.animationDuration = 2 + (i * 0.6) + "s";
    }
    let times = 0;
    let mousePos = [0, 0];
    var intervalId = window.setInterval(function(){
      var v = new Event("mousemove");
      v.clientX = mousePos[0]; 
      v.clientY = mousePos[1];
      if(document.getElementById("background").getBoundingClientRect().left != mousePos[0] && document.getElementById("background").getBoundingClientRect().top != mousePos[1]){
        move(v);
      }
      if(ballMove){
        moveBall();
      }
    }, 30);
    const speed = 10;
    let bg = document.getElementById("title").addEventListener("mousemove", function(e){
      mousePos = [e.clientX, e.clientY];
    });
    // get document coordinates of the element
  function getCoords(elem) {
    let box = elem.getBoundingClientRect();

    return {
      top: box.top + window.pageYOffset,
      right: box.right + window.pageXOffset,
      bottom: box.bottom + window.pageYOffset,
      left: box.left + window.pageXOffset
  };
}
    function move(e){
      let circle = document.getElementById("background");
      let rect = circle.getBoundingClientRect();
      var xChange = (e.clientX - circle.offsetWidth/2) - (rect.left);
      var yChange = (e.clientY - circle.offsetHeight/2) - (rect.top);
      var normDist =  Math.sqrt(Math.pow(xChange, 2) + Math.pow(yChange, 2));
      xChange = xChange/normDist;
      yChange = yChange/normDist;
      circle.style.left = Math.trunc(rect.left + (xChange * speed)) + "px";
      circle.style.top = Math.trunc(rect.top + (yChange * speed)) + "px";
    }
  </script>
</body>